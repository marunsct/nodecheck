<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">
<edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/Common.xml">
<edmx:Include Alias="Common" Namespace="com.sap.vocabularies.Common.v1"/>
</edmx:Reference>
<edmx:Reference Uri="https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Core.V1.xml">
<edmx:Include Alias="Core" Namespace="Org.OData.Core.V1"/>
</edmx:Reference>
<edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/UI.xml">
<edmx:Include Alias="UI" Namespace="com.sap.vocabularies.UI.v1"/>
</edmx:Reference>
<edmx:DataServices>
<Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="RepositoryService">
<Annotation Term="Core.Links">
<Collection>
<Record>
<PropertyValue Property="rel" String="author"/>
<PropertyValue Property="href" String="https://cap.cloud.sap"/>
</Record>
</Collection>
</Annotation>
<EntityContainer Name="EntityContainer">
<EntitySet Name="Repositories" EntityType="RepositoryService.Repositories">
<NavigationPropertyBinding Path="auditResults" Target="AuditResults"/>
<NavigationPropertyBinding Path="dependencies" Target="Dependencies"/>
</EntitySet>
<EntitySet Name="AuditResults" EntityType="RepositoryService.AuditResults">
<NavigationPropertyBinding Path="repository" Target="Repositories"/>
</EntitySet>
<EntitySet Name="Dependencies" EntityType="RepositoryService.Dependencies">
<NavigationPropertyBinding Path="repository" Target="Repositories"/>
</EntitySet>
<ActionImport Name="fetchRepositories" Action="RepositoryService.fetchRepositories"/>
<ActionImport Name="analyzeRepositories" Action="RepositoryService.analyzeRepositories"/>
<ActionImport Name="upgradePackages" Action="RepositoryService.upgradePackages"/>
</EntityContainer>
<EntityType Name="Repositories">
<Key>
<PropertyRef Name="ID"/>
</Key>
<Property Name="ID" Type="Edm.Guid" Nullable="false"/>
<Property Name="createdAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="createdBy" Type="Edm.String" MaxLength="255"/>
<Property Name="modifiedAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="modifiedBy" Type="Edm.String" MaxLength="255"/>
<Property Name="name" Type="Edm.String" MaxLength="255"/>
<Property Name="fullName" Type="Edm.String" MaxLength="255"/>
<Property Name="provider" Type="Edm.String" MaxLength="50" DefaultValue="github"/>
<Property Name="url" Type="Edm.String" MaxLength="500"/>
<Property Name="status" Type="Edm.String" MaxLength="20"/>
<Property Name="lastAnalyzed" Type="Edm.DateTimeOffset"/>
<NavigationProperty Name="auditResults" Type="Collection(RepositoryService.AuditResults)" Partner="repository">
<OnDelete Action="Cascade"/>
</NavigationProperty>
<NavigationProperty Name="dependencies" Type="Collection(RepositoryService.Dependencies)" Partner="repository">
<OnDelete Action="Cascade"/>
</NavigationProperty>
</EntityType>
<EntityType Name="AuditResults">
<Key>
<PropertyRef Name="ID"/>
</Key>
<Property Name="ID" Type="Edm.Guid" Nullable="false"/>
<Property Name="createdAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="createdBy" Type="Edm.String" MaxLength="255"/>
<Property Name="modifiedAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="modifiedBy" Type="Edm.String" MaxLength="255"/>
<NavigationProperty Name="repository" Type="RepositoryService.Repositories" Partner="auditResults">
<ReferentialConstraint Property="repository_ID" ReferencedProperty="ID"/>
</NavigationProperty>
<Property Name="repository_ID" Type="Edm.Guid"/>
<Property Name="severity" Type="Edm.String" MaxLength="20"/>
<Property Name="count" Type="Edm.Int32" DefaultValue="0"/>
<Property Name="timestamp" Type="Edm.DateTimeOffset"/>
</EntityType>
<EntityType Name="Dependencies">
<Key>
<PropertyRef Name="ID"/>
</Key>
<Property Name="ID" Type="Edm.Guid" Nullable="false"/>
<Property Name="createdAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="createdBy" Type="Edm.String" MaxLength="255"/>
<Property Name="modifiedAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="modifiedBy" Type="Edm.String" MaxLength="255"/>
<NavigationProperty Name="repository" Type="RepositoryService.Repositories" Partner="dependencies">
<ReferentialConstraint Property="repository_ID" ReferencedProperty="ID"/>
</NavigationProperty>
<Property Name="repository_ID" Type="Edm.Guid"/>
<Property Name="packageName" Type="Edm.String" MaxLength="255"/>
<Property Name="currentVersion" Type="Edm.String" MaxLength="50"/>
<Property Name="latestVersion" Type="Edm.String" MaxLength="50"/>
<Property Name="recommendedVersion" Type="Edm.String" MaxLength="50"/>
<Property Name="vulnerabilities" Type="Edm.Int32" DefaultValue="0"/>
</EntityType>
<ComplexType Name="return_RepositoryService_fetchRepositories">
<Property Name="name" Type="Edm.String"/>
<Property Name="fullName" Type="Edm.String"/>
<Property Name="url" Type="Edm.String"/>
<Property Name="provider" Type="Edm.String"/>
</ComplexType>
<ComplexType Name="return_RepositoryService_analyzeRepositories">
<Property Name="success" Type="Edm.Boolean"/>
<Property Name="message" Type="Edm.String"/>
</ComplexType>
<ComplexType Name="return_RepositoryService_upgradePackages">
<Property Name="success" Type="Edm.Boolean"/>
<Property Name="message" Type="Edm.String"/>
<Property Name="commitUrl" Type="Edm.String"/>
</ComplexType>
<Action Name="fetchRepositories" IsBound="false">
<ReturnType Type="Collection(RepositoryService.return_RepositoryService_fetchRepositories)" Nullable="true"/>
</Action>
<Action Name="analyzeRepositories" IsBound="false">
<Parameter Name="repositoryIds" Type="Collection(Edm.String)" Nullable="true"/>
<ReturnType Type="RepositoryService.return_RepositoryService_analyzeRepositories"/>
</Action>
<Action Name="upgradePackages" IsBound="false">
<Parameter Name="repositoryId" Type="Edm.String"/>
<Parameter Name="packageNames" Type="Collection(Edm.String)" Nullable="true"/>
<ReturnType Type="RepositoryService.return_RepositoryService_upgradePackages"/>
</Action>
<Annotations Target="RepositoryService.Repositories">
<Annotation Term="UI.SelectionFields">
<Collection>
<PropertyPath>name</PropertyPath>
<PropertyPath>provider</PropertyPath>
<PropertyPath>status</PropertyPath>
</Collection>
</Annotation>
<Annotation Term="UI.LineItem">
<Collection>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="name"/>
<PropertyValue Property="Label" String="Repository Name"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="fullName"/>
<PropertyValue Property="Label" String="Full Name"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="provider"/>
<PropertyValue Property="Label" String="Provider"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="status"/>
<PropertyValue Property="Label" String="Status"/>
<PropertyValue Property="Criticality" Path="status"/>
<PropertyValue Property="CriticalityRepresentation" EnumMember="UI.CriticalityRepresentationType/WithIcon"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="lastAnalyzed"/>
<PropertyValue Property="Label" String="Last Analyzed"/>
</Record>
</Collection>
</Annotation>
<Annotation Term="UI.HeaderInfo">
<Record Type="UI.HeaderInfoType">
<PropertyValue Property="TypeName" String="Repository"/>
<PropertyValue Property="TypeNamePlural" String="Repositories"/>
<PropertyValue Property="Title">
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="fullName"/>
</Record>
</PropertyValue>
<PropertyValue Property="Description">
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="name"/>
</Record>
</PropertyValue>
</Record>
</Annotation>
<Annotation Term="UI.Facets">
<Collection>
<Record Type="UI.ReferenceFacet">
<PropertyValue Property="Label" String="Repository Details"/>
<PropertyValue Property="Target" AnnotationPath="@UI.FieldGroup#Details"/>
</Record>
<Record Type="UI.ReferenceFacet">
<PropertyValue Property="Label" String="Dependencies"/>
<PropertyValue Property="Target" AnnotationPath="dependencies/@UI.LineItem"/>
</Record>
<Record Type="UI.ReferenceFacet">
<PropertyValue Property="Label" String="Audit Results"/>
<PropertyValue Property="Target" AnnotationPath="auditResults/@UI.LineItem"/>
</Record>
</Collection>
</Annotation>
<Annotation Term="UI.FieldGroup" Qualifier="Details">
<Record Type="UI.FieldGroupType">
<PropertyValue Property="Data">
<Collection>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="name"/>
<PropertyValue Property="Label" String="Name"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="fullName"/>
<PropertyValue Property="Label" String="Full Name"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="provider"/>
<PropertyValue Property="Label" String="Provider"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="url"/>
<PropertyValue Property="Label" String="URL"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="status"/>
<PropertyValue Property="Label" String="Status"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="lastAnalyzed"/>
<PropertyValue Property="Label" String="Last Analyzed"/>
</Record>
</Collection>
</PropertyValue>
</Record>
</Annotation>
</Annotations>
<Annotations Target="RepositoryService.Repositories/ID">
<Annotation Term="Core.ComputedDefaultValue" Bool="true"/>
</Annotations>
<Annotations Target="RepositoryService.Repositories/createdAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Created On"/>
</Annotations>
<Annotations Target="RepositoryService.Repositories/createdBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Created By"/>
</Annotations>
<Annotations Target="RepositoryService.Repositories/modifiedAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Changed On"/>
</Annotations>
<Annotations Target="RepositoryService.Repositories/modifiedBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Changed By"/>
</Annotations>
<Annotations Target="RepositoryService.Repositories/name">
<Annotation Term="Common.FieldControl" EnumMember="Common.FieldControlType/Mandatory"/>
</Annotations>
<Annotations Target="RepositoryService.Repositories/fullName">
<Annotation Term="Common.FieldControl" EnumMember="Common.FieldControlType/Mandatory"/>
</Annotations>
<Annotations Target="RepositoryService.Repositories/status">
<Annotation Term="Common.ValueList">
<Record Type="Common.ValueListType">
<PropertyValue Property="CollectionPath" String="Repositories"/>
<PropertyValue Property="Parameters">
<Collection>
<Record Type="Common.ValueListParameterInOut">
<PropertyValue Property="LocalDataProperty" PropertyPath="status"/>
<PropertyValue Property="ValueListProperty" String="status"/>
</Record>
</Collection>
</PropertyValue>
</Record>
</Annotation>
</Annotations>
<Annotations Target="RepositoryService.AuditResults">
<Annotation Term="UI.LineItem">
<Collection>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="severity"/>
<PropertyValue Property="Label" String="Severity"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="count"/>
<PropertyValue Property="Label" String="Count"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="timestamp"/>
<PropertyValue Property="Label" String="Timestamp"/>
</Record>
</Collection>
</Annotation>
</Annotations>
<Annotations Target="RepositoryService.AuditResults/ID">
<Annotation Term="Core.ComputedDefaultValue" Bool="true"/>
</Annotations>
<Annotations Target="RepositoryService.AuditResults/createdAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Created On"/>
</Annotations>
<Annotations Target="RepositoryService.AuditResults/createdBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Created By"/>
</Annotations>
<Annotations Target="RepositoryService.AuditResults/modifiedAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Changed On"/>
</Annotations>
<Annotations Target="RepositoryService.AuditResults/modifiedBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Changed By"/>
</Annotations>
<Annotations Target="RepositoryService.Dependencies">
<Annotation Term="UI.LineItem">
<Collection>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="packageName"/>
<PropertyValue Property="Label" String="Package Name"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="currentVersion"/>
<PropertyValue Property="Label" String="Current Version"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="latestVersion"/>
<PropertyValue Property="Label" String="Latest Version"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="recommendedVersion"/>
<PropertyValue Property="Label" String="Recommended Version"/>
</Record>
<Record Type="UI.DataField">
<PropertyValue Property="Value" Path="vulnerabilities"/>
<PropertyValue Property="Label" String="Vulnerabilities"/>
<PropertyValue Property="Criticality" Path="vulnerabilities"/>
</Record>
</Collection>
</Annotation>
</Annotations>
<Annotations Target="RepositoryService.Dependencies/ID">
<Annotation Term="Core.ComputedDefaultValue" Bool="true"/>
</Annotations>
<Annotations Target="RepositoryService.Dependencies/createdAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Created On"/>
</Annotations>
<Annotations Target="RepositoryService.Dependencies/createdBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Created By"/>
</Annotations>
<Annotations Target="RepositoryService.Dependencies/modifiedAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Changed On"/>
</Annotations>
<Annotations Target="RepositoryService.Dependencies/modifiedBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Changed By"/>
</Annotations>
<Annotations Target="RepositoryService.Dependencies/packageName">
<Annotation Term="Common.FieldControl" EnumMember="Common.FieldControlType/Mandatory"/>
</Annotations>
</Schema>
</edmx:DataServices>
</edmx:Edmx>